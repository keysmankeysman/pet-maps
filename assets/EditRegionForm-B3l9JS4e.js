import{_ as V}from"./index-D4JP0ees.js";import{V as v,a as x}from"./VTextField-BSgBxEgu.js";import{V as h}from"./VSheet-C84chLlY.js";import{r as i,w as g,aN as _,o as y,k as m,c as f,aT as N,u as s,j as k,h as w,t as S,l as F}from"./index-DIPjDtum.js";const R={__name:"EditRegionForm",props:["region"],emits:["update"],setup(d,{emit:p}){const u=p,n=d;let a=i({hex:"#ffffff"});const r=i(null);let t=i(!1);a.value=JSON.parse(JSON.stringify(n.city)),a.value.hex=n.region.color,g(a,()=>{if(!r.value){u("update",{...a.value,valid:!1});return}r.value.validate().then(e=>{console.log("isValid: ",e.valid),u("update",{...a.value,valid:e})})},{deep:!0,immediate:!0});const c=[e=>!!e||"Поле обязательно",e=>e&&e.length===7||"Должно быть 7 символов",e=>e[0]==="#"||"Первый символ должен быть #"];return(e,l)=>(y(),_(h,{class:"mx-auto",width:"300"},{default:m(()=>[f(v,{ref_key:"form",ref:r,"fast-fail":"",modelValue:s(t),"onUpdate:modelValue":l[1]||(l[1]=o=>N(t)?t.value=o:t=o),"lazy-validation":""},{default:m(()=>[k(S(d.region.regionName)+" ",1),f(x,{modelValue:s(a).hex,"onUpdate:modelValue":l[0]||(l[0]=o=>s(a).hex=o),label:"Цвет региона",rules:c},null,8,["modelValue"]),w("div",{class:"hashView",style:F({background:s(a).hex})},null,4)]),_:1},8,["modelValue"])]),_:1}))}},D=V(R,[["__scopeId","data-v-e92628d9"]]);export{D as default};
