import{r as k,w as U,aC as c,o as d,aj as n,d as u,aG as _,I as l,F as E,f as b,ai as g}from"./index-mdpLrxvm.js";import{V as w,a as m,b as C}from"./VTextField-Bny1_QdB.js";import{V as p}from"./VRow-CRO_XdoP.js";import{a as i}from"./index-CjN12T6a.js";const F={key:1},T={__name:"EditEmployeerForm",props:["shop"],emits:["update","addEmployeer"],setup(V,{emit:f}){const v=f,h=V,a=k([]);a.value=[...h.shop.employees],console.log("formData.value",a.value);const x=o=>{v("update",o)};U(a,o=>{x(o)},{immediate:!0});const r=()=>{a.value.push({id:a.value.length+1,firstName:"",lastName:"",middleName:"",phone:"",shopId:15})},N=o=>{console.log("delEmployeer",o);const s=a.value.findIndex(e=>e.id===o);console.log("index",s),a.value.splice(s,1)};return(o,s)=>(d(),c(C,{class:"mx-auto",width:"600"},{default:n(()=>[a.value.length?(d(),c(w,{key:0,"fast-fail":"",onSubmit:s[0]||(s[0]=_(()=>{},["prevent"]))},{default:n(()=>[(d(!0),u(E,null,b(a.value,e=>(d(),u("div",{key:e.id},[l(p,null,{default:n(()=>[l(m,{class:"mr-4",modelValue:e.firstName,"onUpdate:modelValue":t=>e.firstName=t,label:"Имя"},null,8,["modelValue","onUpdate:modelValue"]),l(m,{class:"mr-4",modelValue:e.lastName,"onUpdate:modelValue":t=>e.lastName=t,label:"Фамилия"},null,8,["modelValue","onUpdate:modelValue"]),l(m,{modelValue:e.middleName,"onUpdate:modelValue":t=>e.middleName=t,label:"Отчество"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(p,null,{default:n(()=>[l(m,{modelValue:e.phone,"onUpdate:modelValue":t=>e.phone=t,label:"Номер телефона"},null,8,["modelValue","onUpdate:modelValue"]),l(i,{class:"ms-auto",color:"error",onClick:t=>N(e.id),text:"удалить"},null,8,["onClick"])]),_:2},1024)]))),128)),l(i,{class:"ms-auto",onClick:r,text:"Добавить"})]),_:1})):(d(),u("div",F,[s[1]||(s[1]=g(" Нет сотрудников ",-1)),l(i,{class:"ms-auto",onClick:r,text:"Добавить"})]))]),_:1}))}};export{T as default};
