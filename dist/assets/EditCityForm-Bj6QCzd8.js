import{r as v,aH as B,aC as F,o as m,aj as t,I as l,d as V,s as j,u as T,F as U,f as k,j as p,t as C,ai as s,ag as P}from"./index-Dd6ipkq2.js";import{V as J}from"./VForm-CN93Ras_.js";import{V as r}from"./VTextField-DJ1GsVVt.js";import{V as N,a as O}from"./VDivider-BuhZx8g-.js";import{V as g,a as R,b as f,c,d as $}from"./index-MWGb9DED.js";const x={class:"d-flex justify-space-between align-center mb-2"},K={__name:"EditCityForm",props:["city"],emits:["update"],setup(q,{emit:H}){const b=q,_=v([]);let n=v("");n=b.city.name,_.value=JSON.parse(JSON.stringify(b.city));function E(){return{id:Date.now()+Math.random(),name:"",address:"",cityId:b.city.id,countryId:43,neededEmployees:0,countEmployee:0,employees:[]}}function D(){shops.push(E())}const w=[o=>!!o||"Phone number is required",o=>o.replace(/\D/g,"").length===11||"Phone number must be complete"];return(o,a)=>{const S=B("mask");return m(),F(O,{class:"pa-4","max-width":"800"},{default:t(()=>[l(J,null,{default:t(()=>[l(r,{modelValue:T(n),"onUpdate:modelValue":a[0]||(a[0]=u=>j(n)?n.value=u:n=u),label:"Город",rules:[u=>!!u||"Введите название города"],required:""},null,8,["modelValue","rules"]),l(N,{class:"my-4"}),(m(!0),V(U,null,k(_.value.shops,(u,i)=>(m(),V("div",{key:u.id,class:"mb-6"},[l(g,{outlined:""},{default:t(()=>[l(R,{class:"d-flex justify-space-between align-center"},{default:t(()=>[p("div",null,"Магазин "+C(i+1),1),l(f,{icon:"",color:"red",onClick:e=>o.removeShop(i),"aria-label":"Удалить магазин "+(i+1)},{default:t(()=>[l(c,null,{default:t(()=>[...a[1]||(a[1]=[s("mdi-close",-1)])]),_:1})]),_:1},8,["onClick","aria-label"])]),_:2},1024),l($,null,{default:t(()=>[l(r,{modelValue:u.name,"onUpdate:modelValue":e=>u.name=e,label:"Название",rules:[e=>!!e||"Введите навание магазина"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"]),l(r,{modelValue:u.address,"onUpdate:modelValue":e=>u.address=e,label:"Название",rules:[e=>!!e||"Введите адрес магазина"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"]),l(r,{type:"number",modelValue:u.neededEmployees,"onUpdate:modelValue":e=>u.neededEmployees=e,label:"Необходимо сотрудников",rules:[e=>!!e||"Введите количество необходимых сотрудников"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"]),l(N,{class:"my-3"}),(m(!0),V(U,null,k(u.employees,(e,y)=>(m(),V("div",{key:e.id,class:"mb-4"},[l(g,{outlined:"",class:"pa-3"},{default:t(()=>[p("div",x,[p("div",null,[p("b",null,"Сотрудник "+C(y+1),1)]),l(f,{icon:"",color:"red",onClick:d=>o.removeEmployee(i,y),"aria-label":"Удалить сотрудника "+(y+1)},{default:t(()=>[l(c,null,{default:t(()=>[...a[2]||(a[2]=[s("mdi-close",-1)])]),_:1})]),_:1},8,["onClick","aria-label"])]),l(r,{modelValue:e.firstName,"onUpdate:modelValue":d=>e.firstName=d,label:"Имя",rules:[d=>!!d||"Введите имя сотрудника"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"]),l(r,{modelValue:e.lastName,"onUpdate:modelValue":d=>e.lastName=d,label:"Фамилия",rules:[d=>!!d||"Введите фамилию сотрудника"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"]),l(r,{modelValue:e.middleName,"onUpdate:modelValue":d=>e.middleName=d,label:"Отчество",rules:[d=>!!d||"Введите отчество сотрудника"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"]),P(l(r,{modelValue:e.phone,"onUpdate:modelValue":d=>e.phone=d,label:"Phone Number",rules:w,required:"",placeholder:"+7 (___) ___-__-__"},null,8,["modelValue","onUpdate:modelValue"]),[[S,"+7 (###) ###-##-##"]])]),_:2},1024)]))),128)),l(f,{color:"primary",text:"",onClick:e=>o.addEmployee(i)},{default:t(()=>[l(c,{left:""},{default:t(()=>[...a[3]||(a[3]=[s("mdi-plus",-1)])]),_:1}),a[4]||(a[4]=s(" Добавить сотрудника ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(f,{color:"primary",class:"mb-4",onClick:D},{default:t(()=>[l(c,{left:""},{default:t(()=>[...a[5]||(a[5]=[s("mdi-plus",-1)])]),_:1}),a[6]||(a[6]=s(" Добавить магазин ",-1))]),_:1})]),_:1})]),_:1})}}};export{K as default};
